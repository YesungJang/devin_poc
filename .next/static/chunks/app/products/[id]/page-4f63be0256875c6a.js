(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{1476:(e,r,a)=>{"use strict";a.d(r,{default:()=>p});var t=a(5155),n=a(2115),s=a(3290);let o=JSON.parse('{"terms":[{"term":"SaaS","ja":"サース（Software as a Service）","ko":"사스 (Software as a Service)"},{"term":"Cloud Computing","ja":"クラウドコンピューティング","ko":"클라우드 컴퓨팅"},{"term":"API","ja":"API（Application Programming Interface）","ko":"API (Application Programming Interface)"},{"term":"Dashboard","ja":"ダッシュボード","ko":"대시보드"},{"term":"Subscription","ja":"サブスクリプション","ko":"구독"}]}');async function l(){try{return o}catch(e){return console.warn("Warning: Could not load glossary data:",e),{terms:[]}}}let c=new s.Ay({apiKey:"your_api_key_here",dangerouslyAllowBrowser:!0});async function i(e,r){try{let a=await l(),t="";a&&a.terms&&a.terms.length>0&&(t="次の用語は正確に翻訳してください：\n",a.terms.forEach(e=>{t+='- "'.concat(e.term,'" を "').concat(e[r],'"として翻訳\n')}));let n=(await c.chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:"あなたはプロの翻訳者です。英語から".concat({ja:"日本語",ko:"韓国語"}[r],"へ正確に翻訳してください。\n          ").concat(t,"\n          原文の意味を保ちながら、自然で流暢な翻訳を提供してください。\n          専門用語は正確に翻訳してください。\n          翻訳のみを返し、追加の説明やコメントは含めないでください。")},{role:"user",content:e}],temperature:.3})).choices[0].message.content||"";return{originalText:e,translatedText:n,language:r}}catch(e){throw console.error("Translation error:",e),Error("翻訳中にエラーが発生しました")}}let d=new s.Ay({apiKey:"your_api_key_here",dangerouslyAllowBrowser:!0});async function u(e){try{let{text:r,language:a,speed:t=1}=e,n=await d.audio.speech.create({model:"tts-1",voice:{ja:"shimmer",ko:"shimmer"}[a],input:r,speed:t,response_format:"mp3"}),s=await n.arrayBuffer(),o=new Blob([s],{type:"audio/mpeg"});return{audioUrl:URL.createObjectURL(o),text:r,language:a}}catch(e){throw console.error("TTS error:",e),Error("音声生成中にエラーが発生しました")}}let m=new s.Ay({apiKey:"your_api_key_here",dangerouslyAllowBrowser:!0});async function g(e,r){try{let a=((await m.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"あなたは高品質な要約システムです。以下のテキストを".concat({ja:"日本語",ko:"韓国語"}[r],"で5つの箇条書きに要約してください。\n          各要点は1文に簡潔にまとめ、重要な情報を優先してください。\n          出力形式は次のとおりです：\n          - 要点1\n          - 要点2\n          - 要点3\n          - 要点4\n          - 要点5\n          必ず5つの箇条書きにしてください。それ以上でも以下でも不可です。")},{role:"user",content:e}],temperature:.5})).choices[0].message.content||"").split("\n").filter(e=>e.trim().startsWith("-")).map(e=>e.replace(/^-\s*/,"").trim());if(5!==a.length)throw Error("要約は5つの箇条書きでなければなりません");return{originalText:e,summaryPoints:a,language:r}}catch(e){throw console.error("Summary error:",e),Error("要約中にエラーが発生しました")}}function h(e){let{onChange:r,currentLocale:a="ja"}=e,[s,o]=(0,n.useState)(a);return(0,t.jsx)("div",{className:"locale-selector",children:(0,t.jsxs)("select",{value:s,onChange:e=>{let a=e.target.value;o(a),r(a)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"ja",children:"日本語"}),(0,t.jsx)("option",{value:"ko",children:"한국어"})]})})}function p(e){let{text:r,className:a=""}=e,[s,o]=(0,n.useState)({isLoading:!1,isModalOpen:!1,error:null,translation:null,summary:null,audioUrl:null,selectedLanguage:"ja"}),l=(0,n.useRef)(null),c=(0,n.useCallback)(async()=>{try{o(e=>({...e,isLoading:!0,isModalOpen:!0,error:null}));let e=await i(r,s.selectedLanguage),a=await u({text:e.translatedText,language:s.selectedLanguage}),t=await g(r,s.selectedLanguage);o(r=>({...r,isLoading:!1,translation:e,summary:t,audioUrl:a.audioUrl})),l.current&&a.audioUrl&&l.current.play()}catch(e){console.error("Translation process error:",e),o(r=>({...r,isLoading:!1,error:e instanceof Error?e.message:"処理中にエラーが発生しました"}))}},[r,s.selectedLanguage]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"translate-button-container flex items-center space-x-4",children:[(0,t.jsx)(h,{onChange:e=>{o(r=>({...r,selectedLanguage:e}))},currentLocale:s.selectedLanguage}),(0,t.jsx)("button",{onClick:c,disabled:s.isLoading,className:"translate-button px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed ".concat(a),children:s.isLoading?"処理中...":"翻訳 + 要約 + TTS"})]}),s.audioUrl&&(0,t.jsx)("audio",{ref:l,src:s.audioUrl,controls:!0,className:"hidden"}),s.isModalOpen&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"ja"===s.selectedLanguage?"翻訳と要約":"번역 및 요약"}),(0,t.jsx)("button",{onClick:()=>{o(e=>({...e,isModalOpen:!1})),l.current&&(l.current.pause(),l.current.currentTime=0)},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.isLoading?(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s.error?(0,t.jsxs)("div",{className:"text-red-500 py-4",children:["エラー: ",s.error]}):(0,t.jsxs)(t.Fragment,{children:[s.translation&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"ja"===s.selectedLanguage?"翻訳:":"번역:"}),(0,t.jsx)("p",{className:"p-3 bg-gray-50 rounded-md",children:s.translation.translatedText}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("button",{onClick:()=>{var e;return null==(e=l.current)?void 0:e.play()},className:"px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600",children:"ja"===s.selectedLanguage?"音声を再生":"오디오 재생"})})]}),s.summary&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"ja"===s.selectedLanguage?"5行要約:":"5줄 요약:"}),(0,t.jsx)("ul",{className:"list-disc pl-5 p-3 bg-gray-50 rounded-md",children:s.summary.summaryPoints.map((e,r)=>(0,t.jsx)("li",{className:"mb-1",children:e},r))})]})]})]})})]})}},3444:(e,r,a)=>{Promise.resolve().then(a.bind(a,1476))}},e=>{var r=r=>e(e.s=r);e.O(0,[290,441,684,358],()=>r(3444)),_N_E=e.O()}]);